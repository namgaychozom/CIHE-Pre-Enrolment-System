<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Feedback - Admin Dashboard</title>

  <!-- Base styles -->
  <link rel="stylesheet" href="../css/Admin-Dashboard.css" />
  <!-- Page styles -->
  <link rel="stylesheet" href="../css/Admin-Inquiries.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

  <!-- Navbar -->
 <header>
    <nav class="navbar">
      <div class="nav-left">
        <img src="../images/logo.png" alt="Logo" class="logo" />
        <div class="institute-name">
          <span class="title">CROWN INSTITUTE</span>
          <span class="subtitle">OF HIGHER EDUCATION</span>
        </div>
      </div>

      <div class="nav-links" id="navLinks">
        <a href="#">Home</a>
        <a href="#">About</a>
        <a href="#">Login</a>
        <a href="#">Reach out to us</a>
      </div>

      <div class="nav-right">
        <div class="profile" id="profileMenu">
          <i class="fa-solid fa-user"></i>
          <span>Nima Selden</span>
          <i class="fa-solid fa-caret-down"></i>
          <div class="profile-dropdown" id="profileDropdown">
            <a href="#">Profile</a>
            <a href="#">Settings</a>
          </div>
        </div>
        <div class="menu-icon" id="menuIcon">
          <i class="fa-solid fa-bars"></i>
        </div>
      </div>
    </nav>
  </header>
  <!-- Layout -->
  <div class="dashboard-container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="logo-section">
        <img src="../images/logo.png" alt="Logo">
        <p>CROWN INSTITUTE<br><span>OF HIGHER EDUCATION</span></p>
      </div>
      <nav>
        <a href="./dashboard.html"><i class="fa-solid fa-house"></i> Dashboard</a>
        <a href="./user.html"><i class="fa-solid fa-user"></i> Users</a>
        <a href="./courses.html"><i class="fa-solid fa-book"></i> Courses</a>
        <a href="./feedback.html" class="active-link"><i class="fa-solid fa-comment"></i> Feedback</a>
      </nav>
      <button class="logout-btn"><i class="fa-solid fa-right-from-bracket"></i> Logout</button>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <h1><i class="fa-solid fa-graduation-cap"></i> Admin Dashboard</h1>

      <!-- Search bar -->
      <div class="feedback-search">
        <i class="fa-solid fa-magnifying-glass"></i>
        <input type="text" placeholder="Search courses by name or code..." />
      </div>

      <!-- Section header -->
      <section class="feedback-section">
        <h2>System Inquiries</h2>
        <p class="subtext">Questions and inquiries that are not covered in the FAQ section</p>

        <div class="table-container feedback-table">
          <table>
            <thead>
              <tr>
                <th>Title</th>
                <th>Email</th>
                <th>Date</th>
                <th>Status</th>
                <th>Actions</th>
              </tr>
            </thead>

            <tbody>
              <!-- Use data-* for reliable modal population -->
              <tr data-title="Programming" data-email="cihe23084@student.cihe.edu.au" data-date="2025-03-10" data-status="Answered">
                <td>Programming</td>
                <td>cihe23084@student.cihe.edu.au</td>
                <td>2025-03-10</td>
                <td><span class="badge answered">Answered</span></td>
                <td class="actions">
                  <button class="icon-btn view-btn" title="View"><i class="fa-regular fa-eye"></i></button>
                </td>
              </tr>

              <tr data-title="Programming" data-email="cihe23084@student.cihe.edu.au" data-date="2025-03-10" data-status="Answered">
                <td>Programming</td>
                <td>cihe23084@student.cihe.edu.au</td>
                <td>2025-03-10</td>
                <td><span class="badge answered">Answered</span></td>
                <td class="actions">
                  <button class="icon-btn view-btn" title="View"><i class="fa-regular fa-eye"></i></button>
                </td>
              </tr>

              <tr data-title="Programming" data-email="cihe23084@student.cihe.edu.au" data-date="2025-03-10" data-status="Pending">
                <td>Programming</td>
                <td>cihe23084@student.cihe.edu.au</td>
                <td>2025-03-10</td>
                <td><span class="badge pending">Pending</span></td>
                <td class="actions">
                  <button class="icon-btn view-btn" title="View"><i class="fa-regular fa-eye"></i></button>
                </td>
              </tr>
              <tr data-title="Programming" data-email="cihe23084@student.cihe.edu.au" data-date="2025-03-10" data-status="Pending">
                <td>Programming</td>
                <td>cihe23084@student.cihe.edu.au</td>
                <td>2025-03-10</td>
                <td><span class="badge pending">Pending</span></td>
                <td class="actions">
                  <button class="icon-btn view-btn" title="View"><i class="fa-regular fa-eye"></i></button>
                </td>
              </tr><tr data-title="Programming" data-email="cihe23084@student.cihe.edu.au" data-date="2025-03-10" data-status="Pending">
                <td>Programming</td>
                <td>cihe23084@student.cihe.edu.au</td>
                <td>2025-03-10</td>
                <td><span class="badge pending">Pending</span></td>
                <td class="actions">
                  <button class="icon-btn view-btn" title="View"><i class="fa-regular fa-eye"></i></button>
                </td>
              </tr><tr data-title="Programming" data-email="cihe23084@student.cihe.edu.au" data-date="2025-03-10" data-status="Pending">
                <td>Programming</td>
                <td>cihe23084@student.cihe.edu.au</td>
                <td>2025-03-10</td>
                <td><span class="badge pending">Pending</span></td>
                <td class="actions">
                  <button class="icon-btn view-btn" title="View"><i class="fa-regular fa-eye"></i></button>
                </td>
              </tr><tr data-title="Programming" data-email="cihe23084@student.cihe.edu.au" data-date="2025-03-10" data-status="Pending">
                <td>Programming</td>
                <td>cihe23084@student.cihe.edu.au</td>
                <td>2025-03-10</td>
                <td><span class="badge pending">Pending</span></td>
                <td class="actions">
                  <button class="icon-btn view-btn" title="View"><i class="fa-regular fa-eye"></i></button>
                </td>
              </tr>

              <!-- more demo rows if needed... -->
            </tbody>
          </table>
        </div>
      </section>
    </main>
  </div>

  <!-- Feedback Details Modal -->
  <div class="modal" id="feedbackModal" aria-hidden="true" role="dialog" aria-modal="true">
    <div class="modal-content">
      <button class="close-btn" id="closeFeedback" aria-label="Close">&times;</button>
      <h2>Feedback Details</h2>

      <div class="feedback-details">
        <div><strong>Title:</strong> <span id="mdTitle">—</span></div>
        <div><strong>Email:</strong> <span id="mdEmail">—</span></div>
        <div><strong>Date:</strong> <span id="mdDate">—</span></div>
        <div><strong>Status:</strong> <span id="mdStatus" class="badge">—</span></div>
      </div>

      <div class="feedback-message">
        <strong>Message:</strong>
        <p id="mdMessage">
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. (placeholder text)
        </p>
      </div>

      <div class="modal-actions">
        <button class="submit-btn" id="markAnswered">Mark as Answered</button>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <div class="footer-container">
      <div class="footer-column">
        <h4>Essential Links</h4>
        <a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a><br><br>
        <a href="#">FAQ</a> | <a href="#">Contact Support</a>
      </div>
      <div class="footer-column">
        <h4>Contact Information</h4>
        Support Email: <a href="mailto:info@cihe.edu.au">info@cihe.edu.au</a><br>
        Helpdesk Phone: <a href="tel:+610299550488">+61 0299550488</a><br>
        Campus Address: <a href="#">116 Pacific Highway, North Sydney, NSW, 2060, Australia</a>
      </div>
    </div>
    <div class="footer-bottom">
      <span>© 2018-2025 CROWN INSTITUTE OF HIGHER EDUCATION (CIHE)</span>
      <div class="footer-logo">
        <img src="../images/logo.png" alt="Logo">
        <span>CROWN INSTITUTE OF HIGHER EDUCATION</span>
      </div>
    </div>
  </footer>

  <!-- JS -->
  <script>
    // Navbar hamburger
    const menuIcon = document.getElementById("menuIcon");
    const navLinks  = document.getElementById("navLinks");
    menuIcon.addEventListener("click", () => {
      const open = navLinks.classList.toggle("active");
      menuIcon.setAttribute("aria-expanded", open ? "true" : "false");
    });

    // Profile dropdown
    const profileMenu = document.getElementById("profileMenu");
    const profileDropdown = document.getElementById("profileDropdown");
    profileMenu.addEventListener("click", (e) => {
      e.stopPropagation();
      profileDropdown.classList.toggle("show");
    });
    window.addEventListener("click", () => profileDropdown.classList.remove("show"));

    // Modal helpers
    const modal = document.getElementById('feedbackModal');
    const closeBtn = document.getElementById('closeFeedback');

    function openModal() {
      modal.style.display = 'flex';
      modal.setAttribute('aria-hidden', 'false');
    }
    function closeModal() {
      modal.style.display = 'none';
      modal.setAttribute('aria-hidden', 'true');
    }
    closeBtn.addEventListener('click', closeModal);
    window.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });

    // Populate + open modal on eye click
    const titleEl  = document.getElementById('mdTitle');
    const emailEl  = document.getElementById('mdEmail');
    const dateEl   = document.getElementById('mdDate');
    const statusEl = document.getElementById('mdStatus');
    const msgEl    = document.getElementById('mdMessage');

    document.querySelectorAll('.view-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const row = e.currentTarget.closest('tr');
        const title  = row.dataset.title || row.children[0].textContent.trim();
        const email  = row.dataset.email || row.children[1].textContent.trim();
        const date   = row.dataset.date  || row.children[2].textContent.trim();
        const status = row.dataset.status || row.children[3].innerText.trim();

        titleEl.textContent  = title;
        emailEl.textContent  = email;
        dateEl.textContent   = date;

        statusEl.textContent = status;
        statusEl.classList.remove('answered','pending');
        if (status.toLowerCase().includes('answer')) statusEl.classList.add('answered');
        else statusEl.classList.add('pending');

        // You can replace with the real message field if you have one
        msgEl.textContent = `Feedback regarding "${title}" from ${email} submitted on ${date}.`;

        openModal();
      });
    });

    // Mark as answered (demo only; updates modal badge)
    document.getElementById('markAnswered').addEventListener('click', () => {
      statusEl.textContent = 'Answered';
      statusEl.classList.remove('pending');
      statusEl.classList.add('answered');
      alert('Marked as Answered (demo)');
    });
  </script>
</body>
</html>
